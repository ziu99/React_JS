{"ast":null,"code":"// khởi tạo giá trị giỏ hàng\nconst stateGioHang = {\n  gioHang: [{\n    maSP: 1,\n    tenSP: \"iphone\",\n    hinhAnh: \"./img/sp_iphoneX.png\",\n    soLuong: 1,\n    giaBan: 1000,\n    thanhTien: 1000\n  }]\n};\nexport const GioHangReducers = (state = stateGioHang, action) => {\n  switch (action.type) {\n    case \"THEM_GIO_HANG\":\n      {\n        // xử lý  logic thêm giỏ hàng tại đây\n        let gioHangCapNhat = [...state.gioHang];\n        let index = gioHangCapNhat.findIndex(spGH => spGH.maSP === action.spGioHang.maSP);\n        if (index !== -1) {\n          gioHangCapNhat[index].soLuong += 1;\n        } else {\n          gioHangCapNhat.push(action.spGioHang);\n        }\n        state.gioHang = gioHangCapNhat;\n        return {\n          ...state\n        };\n      }\n    case \"XOA_GIO_HANG\":\n      {\n        let gioHangCapNhat = [...state.gioHang];\n        // xoá giỏ hàng dựa vào index\n        gioHangCapNhat.splice(action.index, 1);\n        //   render lại giao diện\n        state.gioHang = gioHangCapNhat;\n        return {\n          ...state\n        };\n      }\n    case \"TANG_GIAM_SO_LUONG\":\n      {\n        const {\n          index,\n          tangGiam\n        } = action;\n        console.log(action);\n        let gioHangCapNhat = [...state.gioHang];\n        if (tangGiam) {\n          gioHangCapNhat[index].soLuong += 1;\n        } else {\n          if (index.soLuong) gioHangCapNhat[index].soLuong -= 1;\n        }\n        return {\n          ...state\n        };\n      }\n  }\n  return {\n    ...state\n  };\n};\n_c = GioHangReducers;\nvar _c;\n$RefreshReg$(_c, \"GioHangReducers\");","map":{"version":3,"names":["stateGioHang","gioHang","maSP","tenSP","hinhAnh","soLuong","giaBan","thanhTien","GioHangReducers","state","action","type","gioHangCapNhat","index","findIndex","spGH","spGioHang","push","splice","tangGiam","console","log","_c","$RefreshReg$"],"sources":["D:/reactjs/src/redux/reducers/GioHangReducers.jsx"],"sourcesContent":["// khởi tạo giá trị giỏ hàng\r\nconst stateGioHang = {\r\n  gioHang: [\r\n    {\r\n      maSP: 1,\r\n      tenSP: \"iphone\",\r\n      hinhAnh: \"./img/sp_iphoneX.png\",\r\n      soLuong: 1,\r\n      giaBan: 1000,\r\n      thanhTien: 1000,\r\n    },\r\n  ],\r\n};\r\n\r\nexport const GioHangReducers = (state = stateGioHang, action) => {\r\n  switch (action.type) {\r\n    case \"THEM_GIO_HANG\": {\r\n      // xử lý  logic thêm giỏ hàng tại đây\r\n      let gioHangCapNhat = [...state.gioHang];\r\n      let index = gioHangCapNhat.findIndex(\r\n        (spGH) => spGH.maSP === action.spGioHang.maSP\r\n      );\r\n      if (index !== -1) {\r\n        gioHangCapNhat[index].soLuong += 1;\r\n      } else {\r\n        gioHangCapNhat.push(action.spGioHang);\r\n      }\r\n      state.gioHang = gioHangCapNhat;\r\n      return { ...state };\r\n    }\r\n    case \"XOA_GIO_HANG\": {\r\n      let gioHangCapNhat = [...state.gioHang];\r\n      // xoá giỏ hàng dựa vào index\r\n      gioHangCapNhat.splice(action.index, 1);\r\n    //   render lại giao diện\r\n      state.gioHang = gioHangCapNhat;\r\n      return { ...state };\r\n    }\r\n    case \"TANG_GIAM_SO_LUONG\":{\r\n        \r\n        const {index,tangGiam}=action\r\n        console.log(action);\r\n        let gioHangCapNhat = [...state.gioHang];\r\n        if(tangGiam){\r\n            gioHangCapNhat[index].soLuong+=1\r\n        }else{\r\n            if(index.soLuong)\r\n            gioHangCapNhat[index].soLuong-=1\r\n        }\r\n        return { ...state };\r\n    }\r\n  }\r\n\r\n  return { ...state };\r\n};\r\n"],"mappings":"AAAA;AACA,MAAMA,YAAY,GAAG;EACnBC,OAAO,EAAE,CACP;IACEC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,QAAQ;IACfC,OAAO,EAAE,sBAAsB;IAC/BC,OAAO,EAAE,CAAC;IACVC,MAAM,EAAE,IAAI;IACZC,SAAS,EAAE;EACb,CAAC;AAEL,CAAC;AAED,OAAO,MAAMC,eAAe,GAAGA,CAACC,KAAK,GAAGT,YAAY,EAAEU,MAAM,KAAK;EAC/D,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,eAAe;MAAE;QACpB;QACA,IAAIC,cAAc,GAAG,CAAC,GAAGH,KAAK,CAACR,OAAO,CAAC;QACvC,IAAIY,KAAK,GAAGD,cAAc,CAACE,SAAS,CACjCC,IAAI,IAAKA,IAAI,CAACb,IAAI,KAAKQ,MAAM,CAACM,SAAS,CAACd,IAC3C,CAAC;QACD,IAAIW,KAAK,KAAK,CAAC,CAAC,EAAE;UAChBD,cAAc,CAACC,KAAK,CAAC,CAACR,OAAO,IAAI,CAAC;QACpC,CAAC,MAAM;UACLO,cAAc,CAACK,IAAI,CAACP,MAAM,CAACM,SAAS,CAAC;QACvC;QACAP,KAAK,CAACR,OAAO,GAAGW,cAAc;QAC9B,OAAO;UAAE,GAAGH;QAAM,CAAC;MACrB;IACA,KAAK,cAAc;MAAE;QACnB,IAAIG,cAAc,GAAG,CAAC,GAAGH,KAAK,CAACR,OAAO,CAAC;QACvC;QACAW,cAAc,CAACM,MAAM,CAACR,MAAM,CAACG,KAAK,EAAE,CAAC,CAAC;QACxC;QACEJ,KAAK,CAACR,OAAO,GAAGW,cAAc;QAC9B,OAAO;UAAE,GAAGH;QAAM,CAAC;MACrB;IACA,KAAK,oBAAoB;MAAC;QAEtB,MAAM;UAACI,KAAK;UAACM;QAAQ,CAAC,GAACT,MAAM;QAC7BU,OAAO,CAACC,GAAG,CAACX,MAAM,CAAC;QACnB,IAAIE,cAAc,GAAG,CAAC,GAAGH,KAAK,CAACR,OAAO,CAAC;QACvC,IAAGkB,QAAQ,EAAC;UACRP,cAAc,CAACC,KAAK,CAAC,CAACR,OAAO,IAAE,CAAC;QACpC,CAAC,MAAI;UACD,IAAGQ,KAAK,CAACR,OAAO,EAChBO,cAAc,CAACC,KAAK,CAAC,CAACR,OAAO,IAAE,CAAC;QACpC;QACA,OAAO;UAAE,GAAGI;QAAM,CAAC;MACvB;EACF;EAEA,OAAO;IAAE,GAAGA;EAAM,CAAC;AACrB,CAAC;AAACa,EAAA,GAxCWd,eAAe;AAAA,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}